<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cachemere: cachemere::Cache&lt; Key, Value, InsertionPolicy, EvictionPolicy, MeasureValue, MeasureKey &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cachemere
   </div>
   <div id="projectbrief">Modular Caching Library for C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecachemere.html">cachemere</a></li><li class="navelem"><a class="el" href="classcachemere_1_1Cache.html">Cache</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcachemere_1_1Cache-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cachemere::Cache&lt; Key, Value, InsertionPolicy, EvictionPolicy, MeasureValue, MeasureKey &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Thread-safe memory-restricted cache.  
 <a href="classcachemere_1_1Cache.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cache_8h_source.html">cache.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a86e9df698196e64c3208b72b98a7b043"><td class="memItemLeft" align="right" valign="top"><a id="a86e9df698196e64c3208b72b98a7b043"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>MyInsertionPolicy</b> = InsertionPolicy&lt; Key, Value &gt;</td></tr>
<tr class="separator:a86e9df698196e64c3208b72b98a7b043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab866d40b813e491b918e2d19cb9ecddd"><td class="memItemLeft" align="right" valign="top"><a id="ab866d40b813e491b918e2d19cb9ecddd"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>MyEvictionPolicy</b> = EvictionPolicy&lt; Key, Value &gt;</td></tr>
<tr class="separator:ab866d40b813e491b918e2d19cb9ecddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab4c26af3c808c44d35fefc3cc6f703bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcachemere_1_1Cache.html#ab4c26af3c808c44d35fefc3cc6f703bd">Cache</a> (size_t <a class="el" href="classcachemere_1_1Cache.html#a919d4cf8aacd2f3a5f7815d103261af9">maximum_size</a>, uint32_t statistics_window_size=1000)</td></tr>
<tr class="memdesc:ab4c26af3c808c44d35fefc3cc6f703bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple constructor.  <a href="classcachemere_1_1Cache.html#ab4c26af3c808c44d35fefc3cc6f703bd">More...</a><br /></td></tr>
<tr class="separator:ab4c26af3c808c44d35fefc3cc6f703bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad43ea72ed782225ea027cde1f8d0bcac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcachemere_1_1Cache.html#ad43ea72ed782225ea027cde1f8d0bcac">contains</a> (const Key &amp;key) const</td></tr>
<tr class="memdesc:ad43ea72ed782225ea027cde1f8d0bcac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a given key is stored in the cache.  <a href="classcachemere_1_1Cache.html#ad43ea72ed782225ea027cde1f8d0bcac">More...</a><br /></td></tr>
<tr class="separator:ad43ea72ed782225ea027cde1f8d0bcac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa64c50ed24eacc441053795bcb672126"><td class="memItemLeft" align="right" valign="top">std::optional&lt; Value &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcachemere_1_1Cache.html#aa64c50ed24eacc441053795bcb672126">find</a> (const Key &amp;key) const</td></tr>
<tr class="memdesc:aa64c50ed24eacc441053795bcb672126"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a given key in cache, optionally returning the associated value.  <a href="classcachemere_1_1Cache.html#aa64c50ed24eacc441053795bcb672126">More...</a><br /></td></tr>
<tr class="separator:aa64c50ed24eacc441053795bcb672126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f986ccc851d66e7e2d2cf4923a0e79"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcachemere_1_1Cache.html#a24f986ccc851d66e7e2d2cf4923a0e79">insert</a> (const Key &amp;key, const Value &amp;value)</td></tr>
<tr class="memdesc:a24f986ccc851d66e7e2d2cf4923a0e79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a key/value pair in the cache.  <a href="classcachemere_1_1Cache.html#a24f986ccc851d66e7e2d2cf4923a0e79">More...</a><br /></td></tr>
<tr class="separator:a24f986ccc851d66e7e2d2cf4923a0e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a4560c652266d2aa633451d8231ecb"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcachemere_1_1Cache.html#af1a4560c652266d2aa633451d8231ecb">number_of_items</a> () const</td></tr>
<tr class="memdesc:af1a4560c652266d2aa633451d8231ecb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of items currently stored in the cache.  <a href="classcachemere_1_1Cache.html#af1a4560c652266d2aa633451d8231ecb">More...</a><br /></td></tr>
<tr class="separator:af1a4560c652266d2aa633451d8231ecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec7c569f6221fc56b22bf4e07ff3651f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcachemere_1_1Cache.html#aec7c569f6221fc56b22bf4e07ff3651f">size</a> () const</td></tr>
<tr class="memdesc:aec7c569f6221fc56b22bf4e07ff3651f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the amount of memory currently being used by cache items.  <a href="classcachemere_1_1Cache.html#aec7c569f6221fc56b22bf4e07ff3651f">More...</a><br /></td></tr>
<tr class="separator:aec7c569f6221fc56b22bf4e07ff3651f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919d4cf8aacd2f3a5f7815d103261af9"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcachemere_1_1Cache.html#a919d4cf8aacd2f3a5f7815d103261af9">maximum_size</a> () const</td></tr>
<tr class="memdesc:a919d4cf8aacd2f3a5f7815d103261af9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maximum amount of memory that can be used by the cache.  <a href="classcachemere_1_1Cache.html#a919d4cf8aacd2f3a5f7815d103261af9">More...</a><br /></td></tr>
<tr class="separator:a919d4cf8aacd2f3a5f7815d103261af9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af63da99d6c09774c8583ecc9a94a3435"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcachemere_1_1Cache.html#af63da99d6c09774c8583ecc9a94a3435">set_maximum_size</a> (size_t max_size)</td></tr>
<tr class="memdesc:af63da99d6c09774c8583ecc9a94a3435"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum amount of memory that can be used by the cache.  <a href="classcachemere_1_1Cache.html#af63da99d6c09774c8583ecc9a94a3435">More...</a><br /></td></tr>
<tr class="separator:af63da99d6c09774c8583ecc9a94a3435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595590ba222a0b75a31afcc16cf057e8"><td class="memItemLeft" align="right" valign="top"><a id="a595590ba222a0b75a31afcc16cf057e8"></a>
MyInsertionPolicy &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcachemere_1_1Cache.html#a595590ba222a0b75a31afcc16cf057e8">insertion_policy</a> ()</td></tr>
<tr class="memdesc:a595590ba222a0b75a31afcc16cf057e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a reference to the insertion policy used by the cache. <br /></td></tr>
<tr class="separator:a595590ba222a0b75a31afcc16cf057e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9417671e0ab58299a99b690aec575757"><td class="memItemLeft" align="right" valign="top"><a id="a9417671e0ab58299a99b690aec575757"></a>
MyEvictionPolicy &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcachemere_1_1Cache.html#a9417671e0ab58299a99b690aec575757">eviction_policy</a> ()</td></tr>
<tr class="memdesc:a9417671e0ab58299a99b690aec575757"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a reference to the eviction policy used by the cache. <br /></td></tr>
<tr class="separator:a9417671e0ab58299a99b690aec575757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a278f658ad422f22db6adf491325e0c76"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcachemere_1_1Cache.html#a278f658ad422f22db6adf491325e0c76">hit_ratio</a> () const</td></tr>
<tr class="memdesc:a278f658ad422f22db6adf491325e0c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute and return the running hit ratio of the cache.  <a href="classcachemere_1_1Cache.html#a278f658ad422f22db6adf491325e0c76">More...</a><br /></td></tr>
<tr class="separator:a278f658ad422f22db6adf491325e0c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e49af2c593830a745866d61221026e7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcachemere_1_1Cache.html#a3e49af2c593830a745866d61221026e7">byte_hit_ratio</a> () const</td></tr>
<tr class="memdesc:a3e49af2c593830a745866d61221026e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute and return the running byte hit ratio of the cache, in bytes.  <a href="classcachemere_1_1Cache.html#a3e49af2c593830a745866d61221026e7">More...</a><br /></td></tr>
<tr class="separator:a3e49af2c593830a745866d61221026e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Key, typename Value, template&lt; class, class &gt; class InsertionPolicy, template&lt; class, class &gt; class EvictionPolicy, typename MeasureValue = measurement::Size&lt;Value&gt;, typename MeasureKey = measurement::Size&lt;Key&gt;&gt;<br />
class cachemere::Cache&lt; Key, Value, InsertionPolicy, EvictionPolicy, MeasureValue, MeasureKey &gt;</h3>

<p>Thread-safe memory-restricted cache. </p>
<p>This class keeps the inserted items alive, and it handles the bulk of the Insert/Evict logic while respecting the size constraints.</p>
<p>Some logic is delegated to the insertion and eviction policies. For details, see the <a class="el" href="index.html">Main Page</a>. </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Key</td><td>The type of the key used for retrieving items. </td></tr>
    <tr><td class="paramname">Value</td><td>The type of the items stored in the cache. </td></tr>
    <tr><td class="paramname">InsertionPolicy</td><td>A template parameterized by <code>Key</code> and <code>Value</code> implementing the insertion policy interface. </td></tr>
    <tr><td class="paramname">EvictionPolicy</td><td>A template parameterized by <code>Key</code> and <code>Value</code> implementing the eviction policy interface. </td></tr>
    <tr><td class="paramname">MeasureValue</td><td>A functor returning the size of a cache value. </td></tr>
    <tr><td class="paramname">MeasureKey</td><td>A functor returning the size of a cache key. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab4c26af3c808c44d35fefc3cc6f703bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4c26af3c808c44d35fefc3cc6f703bd">&#9670;&nbsp;</a></span>Cache()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Key , typename Value , template&lt; class, class &gt; class InsertionPolicy, template&lt; class, class &gt; class EvictionPolicy, typename MeasureValue , typename MeasureKey &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcachemere_1_1Cache.html">cachemere::Cache</a>&lt; Key, Value, InsertionPolicy, EvictionPolicy, MeasureValue, MeasureKey &gt;::<a class="el" href="classcachemere_1_1Cache.html">Cache</a> </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maximum_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>statistics_window_size</em> = <code>1000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maximum_size</td><td>The maximum amount memory to be used by the cache (in bytes). </td></tr>
    <tr><td class="paramname">statistics_window_size</td><td>The length of the cache history to be kept for statistics. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3e49af2c593830a745866d61221026e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e49af2c593830a745866d61221026e7">&#9670;&nbsp;</a></span>byte_hit_ratio()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class K , class V , template&lt; class, class &gt; class I, template&lt; class, class &gt; class E, class SV , class SK &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classcachemere_1_1Cache.html">cachemere::Cache</a>&lt; K, V, I, E, SV, SK &gt;::byte_hit_ratio</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute and return the running byte hit ratio of the cache, in bytes. </p>
<p>The byte hit ratio represents the average amount of data saved by cache accesses. This is a very useful metric in applications where item load times scale linearly with item size, for instance in a web server. </p><dl class="section return"><dt>Returns</dt><dd>The byte hit ratio, in bytes. </dd></dl>

</div>
</div>
<a id="ad43ea72ed782225ea027cde1f8d0bcac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad43ea72ed782225ea027cde1f8d0bcac">&#9670;&nbsp;</a></span>contains()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Key , typename Value , template&lt; class, class &gt; class InsertionPolicy, template&lt; class, class &gt; class EvictionPolicy, typename MeasureValue  = measurement::Size&lt;Value&gt;, typename MeasureKey  = measurement::Size&lt;Key&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classcachemere_1_1Cache.html">cachemere::Cache</a>&lt; K, V, I, E, SV, SK &gt;::contains </td>
          <td>(</td>
          <td class="paramtype">const Key &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if a given key is stored in the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key whose presence needs to be tested. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the key is in cache. </dd></dl>

</div>
</div>
<a id="aa64c50ed24eacc441053795bcb672126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa64c50ed24eacc441053795bcb672126">&#9670;&nbsp;</a></span>find()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Key , typename Value , template&lt; class, class &gt; class InsertionPolicy, template&lt; class, class &gt; class EvictionPolicy, typename MeasureValue  = measurement::Size&lt;Value&gt;, typename MeasureKey  = measurement::Size&lt;Key&gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; V &gt; <a class="el" href="classcachemere_1_1Cache.html">cachemere::Cache</a>&lt; K, V, I, E, SV, SK &gt;::find </td>
          <td>(</td>
          <td class="paramtype">const Key &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a given key in cache, optionally returning the associated value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key to lookup. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value if <code>key</code> is in cache, <code>std::nullopt</code> otherwise. </dd></dl>

</div>
</div>
<a id="a278f658ad422f22db6adf491325e0c76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a278f658ad422f22db6adf491325e0c76">&#9670;&nbsp;</a></span>hit_ratio()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class K , class V , template&lt; class, class &gt; class I, template&lt; class, class &gt; class E, class SV , class SK &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classcachemere_1_1Cache.html">cachemere::Cache</a>&lt; K, V, I, E, SV, SK &gt;::hit_ratio</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute and return the running hit ratio of the cache. </p>
<p>The hit ratio is computed using a sliding window determined by the sliding window size passed to the constructor. </p><dl class="section return"><dt>Returns</dt><dd>The hit ratio, as a fraction. </dd></dl>

</div>
</div>
<a id="a24f986ccc851d66e7e2d2cf4923a0e79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24f986ccc851d66e7e2d2cf4923a0e79">&#9670;&nbsp;</a></span>insert()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Key , typename Value , template&lt; class, class &gt; class InsertionPolicy, template&lt; class, class &gt; class EvictionPolicy, typename MeasureValue  = measurement::Size&lt;Value&gt;, typename MeasureKey  = measurement::Size&lt;Key&gt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classcachemere_1_1Cache.html">cachemere::Cache</a>&lt; K, V, I, E, SV, SK &gt;::insert </td>
          <td>(</td>
          <td class="paramtype">const Key &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Value &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert a key/value pair in the cache. </p>
<p>If the key is new, the key/value pair will be inserted. If the key already exists, the provided value will overwrite the previous one. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key to associate with the value. </td></tr>
    <tr><td class="paramname">value</td><td>The value to store. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the item was inserted in cache. </dd></dl>

</div>
</div>
<a id="a919d4cf8aacd2f3a5f7815d103261af9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a919d4cf8aacd2f3a5f7815d103261af9">&#9670;&nbsp;</a></span>maximum_size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class K , class V , template&lt; class, class &gt; class I, template&lt; class, class &gt; class E, class SV , class SK &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classcachemere_1_1Cache.html">cachemere::Cache</a>&lt; K, V, I, E, SV, SK &gt;::maximum_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the maximum amount of memory that can be used by the cache. </p>
<p>Once this size is reached, any future successful insertions will trigger evictions of one or more items. </p><dl class="section return"><dt>Returns</dt><dd>The maximum size, in bytes. </dd></dl>

</div>
</div>
<a id="af1a4560c652266d2aa633451d8231ecb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1a4560c652266d2aa633451d8231ecb">&#9670;&nbsp;</a></span>number_of_items()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class K , class V , template&lt; class, class &gt; class I, template&lt; class, class &gt; class E, class SV , class SK &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classcachemere_1_1Cache.html">cachemere::Cache</a>&lt; K, V, I, E, SV, SK &gt;::number_of_items</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of items currently stored in the cache. </p>
<dl class="section warning"><dt>Warning</dt><dd>This method acquires an internal mutex to grab the number of items. Calling this excessively while the cache is under contention will be detrimental to performance. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>How many items are in cache. </dd></dl>

</div>
</div>
<a id="af63da99d6c09774c8583ecc9a94a3435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af63da99d6c09774c8583ecc9a94a3435">&#9670;&nbsp;</a></span>set_maximum_size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class K , class V , template&lt; class, class &gt; class I, template&lt; class, class &gt; class E, class SV , class SK &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcachemere_1_1Cache.html">cachemere::Cache</a>&lt; K, V, I, E, SV, SK &gt;::set_maximum_size </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the maximum amount of memory that can be used by the cache. </p>
<p>If the new maximum size is inferior to the maximum, the cache will resize itself and evict items until the new maximum is respected. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_size</td><td>The new maximum size, in bytes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aec7c569f6221fc56b22bf4e07ff3651f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec7c569f6221fc56b22bf4e07ff3651f">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class K , class V , template&lt; class, class &gt; class I, template&lt; class, class &gt; class E, class SV , class SK &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classcachemere_1_1Cache.html">cachemere::Cache</a>&lt; K, V, I, E, SV, SK &gt;::size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the amount of memory currently being used by cache items. </p>
<p>This method returns the size of the data stored by the cache itself:</p><ul>
<li>The size of the key and the value, as defined by the <code>MeasureKey</code> and <code>MeasureValue</code> functors</li>
<li>A copy of the key <dl class="section return"><dt>Returns</dt><dd>The current memory usage, in bytes. </dd></dl>
</li>
</ul>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/cachemere/<a class="el" href="cache_8h_source.html">cache.h</a></li>
<li>include/cachemere/<a class="el" href="cache_8hpp_source.html">cache.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
